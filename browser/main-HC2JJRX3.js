import{Ba as a,L as u,h as m,ia as l,k as p,ta as f,va as d,wa as i,x as s,y as c,za as h}from"./chunk-CPYGXC5A.js";import"./chunk-LJ5XHLMQ.js";import"./chunk-FK42CRUA.js";var e=class t{constructor(o,r){this.supabaseService=o;this.router=r}canActivate(){return this.supabaseService.isAuthenticated()?!0:(this.router.navigate(["/auth/login"]),!1)}static \u0275fac=function(r){return new(r||t)(p(a),p(i))};static \u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"})};var v=[{path:"",redirectTo:"/dashboard",pathMatch:"full"},{path:"auth/login",loadComponent:()=>import("./chunk-6DFOZX3M.js").then(t=>t.LoginComponent)},{path:"auth/register",loadComponent:()=>import("./chunk-5LNORG3U.js").then(t=>t.RegisterComponent)},{path:"dashboard",loadComponent:()=>import("./chunk-3GUCJSCG.js").then(t=>t.DashboardComponent),canActivate:[e]},{path:"bm-grades",loadComponent:()=>import("./chunk-3U2BB4DX.js").then(t=>t.BMGradesComponent),canActivate:[e]},{path:"bm-grades/subject/:id",loadComponent:()=>import("./chunk-PWKE7UGX.js").then(t=>t.SubjectDetailComponent),canActivate:[e]},{path:"settings",loadComponent:()=>import("./chunk-3LNKCP7N.js").then(t=>t.SettingsComponent),canActivate:[e]},{path:"test-calendar",loadComponent:()=>import("./chunk-3N4D3TLT.js").then(t=>t.TestCalendarComponent),canActivate:[e]},{path:"**",redirectTo:"/dashboard"}];var C={providers:[l({eventCoalescing:!0}),h(v)]};var n=class t{constructor(o,r){this.supabaseService=o;this.router=r}title="angular-auth-app";ngOnInit(){this.supabaseService.user$.subscribe(o=>{o&&this.router.url==="/"?this.router.navigate(["/dashboard"]):!o&&!["/auth/login","/auth/register"].includes(this.router.url)&&this.router.navigate(["/auth/login"])})}static \u0275fac=function(r){return new(r||t)(s(a),s(i))};static \u0275cmp=c({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(r,A){r&1&&u(0,"router-outlet")},dependencies:[d],encapsulation:2})};f(n,C).catch(t=>console.error(t));
