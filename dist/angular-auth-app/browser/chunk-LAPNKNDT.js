var M=(r=>(r.TALS="tals",r.WD_D="wd-d",r.ARTE="arte",r.GESUNDHEIT="gesundheit",r))(M||{}),G=(e=>(e.FULLTIME="fulltime",e.PARTTIME="parttime",e))(G||{}),j=(t=>(t.INDIVIDUAL="individual",t.EXAM="exam",t.EXPERIENCE="experience",t.SEMESTER="semester",t.PROJECT="project",t))(j||{}),A=(t=>(t.STANDARD="standard",t.NATURAL_SCIENCE="natural_science",t.IDPA="idpa",t.IDAF="idaf",t.IDA="ida",t))(A||{}),D=(t=>(t.EXAM="exam",t.TEST="test",t.PRESENTATION="presentation",t.PROJECT="project",t.HOMEWORK="homework",t))(D||{}),x=(n=>(n.SCHEDULED="scheduled",n.COMPLETED="completed",n.CANCELLED="cancelled",n))(x||{}),d=class{constructor(u,e,n,r,t,a="standard"){this.id=u;this.name=e;this.shortName=n;this.hasExam=r;this.isCore=t;this.type=a}},s=class extends d{constructor(u,e,n,r,t){super(u,e,n,r,t,"standard")}calculateFinalGrade(u){let e=u.filter(t=>t.type==="individual"),n=u.find(t=>t.type==="exam");if(e.length===0)return 0;let r=this.calculateExperienceGrade(e);return this.hasExam&&n?Math.round((r+n.value)/2*2)/2:r}calculateExperienceGrade(u){let e=[];for(let r=1;r<=4;r++){let t=u.filter(a=>a.semester===r);if(t.length>0){let a=t.reduce((m,o)=>m+(o.weight||1),0),i=t.reduce((m,o)=>m+o.value*(o.weight||1),0);e.push(i/a)}}if(e.length===0)return 0;let n=e.reduce((r,t)=>r+t,0)/e.length;return Math.round(n*2)/2}},b=class extends d{constructor(e,n,r,t,a,i){super(e,n,r,t,a,"natural_science");this.components=i}calculateFinalGrade(e){let n=0,r=0;for(let t of this.components){let a=e.filter(i=>i.subjectId===t.id);if(a.length>0){let i=a.reduce((m,o)=>m+o.value,0)/a.length;n+=i*t.weight,r+=t.weight}}return r>0?Math.round(n/r*2)/2:0}},l=class extends d{constructor(){super("idaf","Interdisziplin\xE4re Arbeit in den F\xE4chern","IDAF",!1,!1,"idaf")}calculateFinalGrade(u){let e=u.filter(r=>r.type==="individual");if(e.length===0)return 0;let n=e.reduce((r,t)=>r+t.value,0);return Math.round(n/e.length*2)/2}},h=class extends d{constructor(){super("idpa","Interdisziplin\xE4re Projektarbeit","IDPA",!1,!1,"idpa")}calculateFinalGrade(u){let e=u.filter(r=>r.type==="individual");if(e.length===0)return 0;let n=e.reduce((r,t)=>r+t.value,0);return Math.round(n/e.length*2)/2}},p=class extends d{constructor(e,n){super("ida","IDA-Note (IDAF + IDPA)","IDA",!1,!0,"ida");this.idafSubject=e;this.idpaSubject=n}calculateFinalGrade(e){let n=e.filter(i=>i.subjectId==="idaf"),r=e.filter(i=>i.subjectId==="idpa"),t=this.idafSubject.calculateFinalGrade(n),a=this.idpaSubject.calculateFinalGrade(r);return t===0&&a===0?0:t===0?a:a===0?t:Math.round((t+a)/2*2)/2}},w=class{constructor(u,e,n){this.id=u;this.name=e;this.subjects=n}calculateOverallGrade(u){let e=this.subjects.map(r=>{let t=u.filter(a=>a.subjectId===r.id||r.type==="ida"&&(a.subjectId==="idaf"||a.subjectId==="idpa"));return r.calculateFinalGrade(t)}).filter(r=>r>0);if(e.length===0)return 0;let n=e.reduce((r,t)=>r+t,0);return Math.round(n/e.length*10)/10}},g=class extends w{constructor(u="fulltime"){super("tals","BM 2 Technik, Architektur, Life Sciences (TALS)",[]),this.subjects=this.createSubjects(u)}createSubjects(u){let e=[new s("d","Deutsch","D",!0,!0),new s("f","Franz\xF6sisch","F",!0,!0),new s("e","Englisch","E",!0,!0),new s("m-g","Mathematik Grundlagen","M-G",!0,!0),new s("m-s","Mathematik Schwerpunkt","M-S",!0,!0),new s("gp","Geschichte & Politik","GP",!0,!0),new s("wr","Wirtschaft & Recht","WR",!0,!0)];u==="parttime"?e.push(new b("nw","Naturwissenschaften","NW",!0,!0,[{id:"nw-chemie",name:"Chemie",shortName:"CH",weight:.33,semesters:[1]},{id:"nw-physik",name:"Physik",shortName:"PH",weight:.67,semesters:[1,2]}])):e.push(new s("nw","Naturwissenschaften","NW",!0,!0));let n=new l,r=new h;return e.push(new p(n,r)),e}},f=class extends w{constructor(u="fulltime"){super("wd-d","BM 2 Dienstleistungen (WD-D)",[]),this.subjects=this.createSubjects(u)}createSubjects(u){let e=[new s("d","Deutsch","D",!0,!0),new s("f","Franz\xF6sisch","F",!0,!0),new s("e","Englisch","E",!0,!0),new s("m","Mathematik","M",!0,!0),new s("fr","Finanz- & Rechnungswesen","FR",!0,!0),new s("wr","Wirtschaft & Recht Schwerpunkt","WR",!0,!0),new s("wr-e","Wirtschaft & Recht Erg\xE4nzung","WR-E",!1,!1),new s("gp","Geschichte & Politik","GP",!0,!0)],n=new l,r=new h;return e.push(new p(n,r)),e}},S=class extends w{constructor(u="fulltime"){super("arte","BM 2 Gestaltung & Kunst (ARTE)",[]),this.subjects=this.createSubjects(u)}createSubjects(u){let e=[new s("d","Deutsch","D",!0,!0),new s("f","Franz\xF6sisch","F",!0,!0),new s("e","Englisch","E",!0,!0),new s("m","Mathematik","M",!0,!0),new s("gkk","Gestaltung / Kunst / Kultur","GKK",!0,!0),new s("ik","Information & Kommunikation","IK",!0,!0),new s("gp","Geschichte & Politik","GP",!0,!0),new s("tu","Technik & Umwelt","TU",!0,!0)],n=new l,r=new h;return e.push(new p(n,r)),e}},E=class extends w{constructor(u="fulltime"){super("gesundheit","BM 2 Gesundheit & Soziales",[]),this.subjects=this.createSubjects(u)}createSubjects(u){let e=[new s("d","Deutsch","D",!0,!0),new s("f","Franz\xF6sisch","F",!0,!0),new s("e","Englisch","E",!0,!0),new s("m","Mathematik","M",!0,!0),new s("sw","Sozialwissenschaften","SW",!0,!0),new s("gp","Geschichte & Politik","GP",!0,!0),new s("wr","Wirtschaft & Recht","WR",!0,!0)];u==="parttime"?e.push(new b("nw","Naturwissenschaften","NW",!0,!0,[{id:"nw-chemie",name:"Chemie",shortName:"CH",weight:.33,semesters:[1]},{id:"nw-physik",name:"Physik",shortName:"PH",weight:.67,semesters:[1,2]}])):e.push(new s("nw","Naturwissenschaften","NW",!0,!0));let n=new l,r=new h;return e.push(new p(n,r)),e}},I=class{static create(u,e){switch(u){case"tals":return new g(e);case"wd-d":return new f(e);case"arte":return new S(e);case"gesundheit":return new E(e);default:throw new Error(`Unknown BM Type: ${u}`)}}};export{M as a,G as b,j as c,A as d,D as e,x as f,I as g};
